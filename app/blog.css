@import "tailwindcss";
@import "tw-animate-css";

/* Heading scroll margin for hash links */
.prose h2,
.prose h3,
.prose h4 {
  scroll-margin-top: 100px;
}

/* Code block base styles */
.prose pre {
  @apply relative 
      bg-gray-900 
      rounded-xl 
      shadow-lg 
      border border-gray-800/40
      !p-4 
      my-6;
}

.prose pre code {
  @apply text-gray-200
      font-mono 
      text-sm 
      leading-relaxed
      !p-0
      bg-transparent;
}

/* Copy button */
.prose pre .copy-button {
  @apply absolute 
      top-2 
      right-2 
      px-2 
      py-1 
      text-xs
      font-medium
      rounded-md
      bg-gray-800 
      text-gray-300
      transition-colors 
      duration-200
      hover:bg-gray-700
      flex
      items-center
      gap-1;
}

/* Update the copy button text content */
.prose pre .copy-button::before {
  content: "Copy";
}

/* Add the copy icon after the text */
.prose pre .copy-button::after {
  content: "";
  width: 12px;
  height: 12px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='rgb(209 213 219)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3'%3E%3C/path%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  display: inline-block;
}

/* When copied, change the text and icon */
.prose pre .copy-button.copied::before {
  content: "Copied!";
}

.prose pre .copy-button.copied::after {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='rgb(209 213 219)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M5 13l4 4L19 7'%3E%3C/path%3E%3C/svg%3E");
}

/* Syntax highlighting */
.prose .hljs-comment,
.prose .hljs-quote {
  @apply text-gray-500 italic;
}

/* MDX Editor Container - Allow sticky positioning */
.editor-container {
  position: relative;
}

.editor-container > div,
.editor-container [data-mdx-editor],
.editor-container .mdxeditor-root {
  position: relative;
}

/* MDX Editor Toolbar Sticky */
.editor-container [role="toolbar"],
.editor-container .cmdk-root,
[data-mdx-editor] [role="toolbar"],
.mdxeditor-root [role="toolbar"],
.mdxeditor [role="toolbar"] {
  background: white !important;
  box-shadow: 0 !important;
}

.prose .hljs-keyword,
.prose .hljs-selector-tag,
.prose .hljs-addition {
  @apply text-purple-400;
}

.prose .hljs-string,
.prose .hljs-template-string {
  @apply text-green-400;
}

.prose .hljs-number,
.prose .hljs-literal {
  @apply text-orange-400;
}

.prose .hljs-function,
.prose .hljs-title {
  @apply text-blue-400;
}

.prose .hljs-variable,
.prose .hljs-attr {
  @apply text-yellow-400;
}

/* Inline code */
.prose :not(pre) > code {
  @apply bg-gray-100
      text-gray-900
      rounded-md 
      px-1.5 
      py-0.5
      font-mono 
      text-sm
      whitespace-nowrap;
}

/* Table styles - using shadcn Table components, but ensuring prose compatibility */
.prose table {
  @apply w-full my-6;
}

.prose table[data-slot="table"] {
  @apply border-collapse;
}

/* Ensure tables are scrollable on mobile */
.prose [data-slot="table-container"] {
  @apply overflow-x-auto -mx-4 sm:mx-0;
}

/* Add some spacing around tables in prose */
.prose table + * {
  @apply mt-6;
}

.prose * + table {
  @apply mt-6;
}
